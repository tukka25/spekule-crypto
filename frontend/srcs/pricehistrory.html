<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<style>
	.body {
		background-color: rgb(236, 118, 236);
		justify-content: center;
		display: flex;
	}
	.form {
		background-color: antiquewhite;
		border-radius: 4px;
		font: 200;
		width: 400px;
		height: 100px;
		color: black;
		text-align: center;
		padding: 10px;
		margin: 10px;
		position: absolute;
		top: 20%;
		left: 40%;
	
	}
	.submit {
		background-color: rgb(163, 163, 251);
		font: 200;
		border: none;
		border-radius: 4px;
	}
</style>
<body class="body">
	<div class="form">
		<form onsubmit=getPricefromAPI()>
			<input type="text" name="name" id="name">
			<input type="submit" value="Submit" class="submit">
		</form>
	</div>
</body>
<script>
	var element = document.getElementById("name");
	// document.preventDefault();
	console.log(element.value);
	document.addEventListener('submit', function(event) {
		event.preventDefault();
	});
	async function getPricefromAPI() {
		console.log(element.value);
		bodY = {'token': element.value}
		console.log(bodY);
		const headers_json = {
			method: 'POST',
			headers: {
				Accept: 'application/json',
				'Content-Type': 'application/json'
			},
			body: JSON.stringify(bodY),
			cache: 'no-cache',
		};
		const response = await fetch("http://localhost:8888/api/dexScreener", headers_json);
		const data = await response.json();
		if (response.status > 299)
		{
			throw data["error_message"];
		}
		console.log(data["status"]);
		console.log(data["data"]);
	}
</script>
</html>